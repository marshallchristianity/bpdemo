(function(a){a.flexslider=function(t,o){var y=a(t),x=a.extend({},a.flexslider.defaults,o),w=x.namespace,b="ontouchstart" in window||window.DocumentTouch&&document instanceof DocumentTouch,z=b?"touchend":"click",n="vertical"===x.direction,j=x.reverse,u=0<x.itemWidth,d="fade"===x.animation,g=""!==x.asNavFor,v={};a.data(t,"flexslider",y);v={init:function(){y.animating=!1;y.currentSlide=x.startAt;y.animatingTo=y.currentSlide;y.atEnd=0===y.currentSlide||y.currentSlide===y.last;y.containerSelector=x.selector.substr(0,x.selector.search(" "));y.slides=a(x.selector,y);y.container=a(y.containerSelector,y);y.count=y.slides.length;y.syncExists=0<a(x.sync).length;"slide"===x.animation&&(x.animation="swing");y.prop=n?"top":"marginLeft";y.args={};y.manualPause=!1;var c=y,f;if(f=!x.video){if(f=!d){if(f=x.useCSS){y:{f=document.createElement("div");var i=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"],h;for(h in i){if(void 0!==f.style[i[h]]){y.pfx=i[h].replace("Perspective","").toLowerCase();y.prop="-"+y.pfx+"-transform";f=!0;break y;}}f=!1;}}}}c.transitions=f;""!==x.controlsContainer&&(y.controlsContainer=0<a(x.controlsContainer).length&&a(x.controlsContainer));""!==x.manualControls&&(y.manualControls=0<a(x.manualControls).length&&a(x.manualControls));x.randomize&&(y.slides.sort(function(){return Math.round(Math.random())-0.5;}),y.container.empty().append(y.slides));y.doMath();g&&v.asNav.setup();y.setup("init");x.controlNav&&v.controlNav.setup();x.directionNav&&v.directionNav.setup();x.keyboard&&(1===a(y.containerSelector).length||x.multipleKeyboard)&&a(document).bind("keyup",function(e){e=e.keyCode;if(!y.animating&&(e===39||e===37)){e=e===39?y.getTarget("next"):e===37?y.getTarget("prev"):false;y.flexAnimate(e,x.pauseOnAction);}});x.mousewheel&&y.bind("mousewheel",function(e,k){e.preventDefault();var l=k<0?y.getTarget("next"):y.getTarget("prev");y.flexAnimate(l,x.pauseOnAction);});x.pausePlay&&v.pausePlay.setup();x.slideshow&&(x.pauseOnHover&&y.hover(function(){!y.manualPlay&&!y.manualPause&&y.pause();},function(){!y.manualPause&&!y.manualPlay&&y.play();}),0<x.initDelay?setTimeout(y.play,x.initDelay):y.play());b&&x.touch&&v.touch();(!d||d&&x.smoothHeight)&&a(window).bind("resize focus",v.resize);setTimeout(function(){x.start(y);},200);},asNav:{setup:function(){y.asNav=!0;y.animatingTo=Math.floor(y.currentSlide/y.move);y.currentItem=y.currentSlide;y.slides.removeClass(w+"active-slide").eq(y.currentItem).addClass(w+"active-slide");y.slides.click(function(c){c.preventDefault();var c=a(this),e=c.index();!a(x.asNavFor).data("flexslider").animating&&!c.hasClass("active")&&(y.direction=y.currentItem<e?"next":"prev",y.flexAnimate(e,x.pauseOnAction,!1,!0,!0));});}},controlNav:{setup:function(){y.manualControls?v.controlNav.setupManual():v.controlNav.setupPaging();},setupPaging:function(){var c=1,e;y.controlNavScaffold=a('<ol class="'+w+"control-nav "+w+("thumbnails"===x.controlNav?"control-thumbs":"control-paging")+'"></ol>');if(1<y.pagingCount){for(var f=0;f<y.pagingCount;f++){e="thumbnails"===x.controlNav?'<img src="'+y.slides.eq(f).attr("data-thumb")+'"/>':"<a>"+c+"</a>",y.controlNavScaffold.append("<li>"+e+"</li>"),c++;}}y.controlsContainer?a(y.controlsContainer).append(y.controlNavScaffold):y.append(y.controlNavScaffold);v.controlNav.set();v.controlNav.active();y.controlNavScaffold.delegate("a, img",z,function(h){h.preventDefault();var h=a(this),i=y.controlNav.index(h);h.hasClass(w+"active")||(y.direction=i>y.currentSlide?"next":"prev",y.flexAnimate(i,x.pauseOnAction));});b&&y.controlNavScaffold.delegate("a","click touchstart",function(h){h.preventDefault();});},setupManual:function(){y.controlNav=y.manualControls;v.controlNav.active();y.controlNav.live(z,function(c){c.preventDefault();var c=a(this),e=y.controlNav.index(c);c.hasClass(w+"active")||(e>y.currentSlide?y.direction="next":y.direction="prev",y.flexAnimate(e,x.pauseOnAction));});b&&y.controlNav.live("click touchstart",function(c){c.preventDefault();});},set:function(){y.controlNav=a("."+w+"control-nav li "+("thumbnails"===x.controlNav?"img":"a"),y.controlsContainer?y.controlsContainer:y);},active:function(){y.controlNav.removeClass(w+"active").eq(y.animatingTo).addClass(w+"active");},update:function(e,f){1<y.pagingCount&&"add"===e?y.controlNavScaffold.append(a("<li><a>"+y.count+"</a></li>")):1===y.pagingCount?y.controlNavScaffold.find("li").remove():y.controlNav.eq(f).closest("li").remove();v.controlNav.set();1<y.pagingCount&&y.pagingCount!==y.controlNav.length?y.update(f,e):v.controlNav.active();}},directionNav:{setup:function(){var c=a('<ul class="'+w+'direction-nav"><li><a class="'+w+'prev" href="#">'+x.prevText+'</a></li><li><a class="'+w+'next" href="#">'+x.nextText+"</a></li></ul>");y.controlsContainer?(a(y.controlsContainer).append(c),y.directionNav=a("."+w+"direction-nav li a",y.controlsContainer)):(y.append(c),y.directionNav=a("."+w+"direction-nav li a",y));v.directionNav.update();y.directionNav.bind(z,function(e){e.preventDefault();e=a(this).hasClass(w+"next")?y.getTarget("next"):y.getTarget("prev");y.flexAnimate(e,x.pauseOnAction);});b&&y.directionNav.bind("click touchstart",function(e){e.preventDefault();});},update:function(){var c=w+"disabled";1===y.pagingCount?y.directionNav.addClass(c):x.animationLoop?y.directionNav.removeClass(c):0===y.animatingTo?y.directionNav.removeClass(c).filter("."+w+"prev").addClass(c):y.animatingTo===y.last?y.directionNav.removeClass(c).filter("."+w+"next").addClass(c):y.directionNav.removeClass(c);}},pausePlay:{setup:function(){var c=a('<div class="'+w+'pauseplay"><a></a></div>');y.controlsContainer?(y.controlsContainer.append(c),y.pausePlay=a("."+w+"pauseplay a",y.controlsContainer)):(y.append(c),y.pausePlay=a("."+w+"pauseplay a",y));v.pausePlay.update(x.slideshow?w+"pause":w+"play");y.pausePlay.bind(z,function(e){e.preventDefault();if(a(this).hasClass(w+"pause")){y.manualPause=true;y.manualPlay=false;y.pause();}else{y.manualPause=false;y.manualPlay=true;y.play();}});b&&y.pausePlay.bind("click touchstart",function(e){e.preventDefault();});},update:function(c){"play"===c?y.pausePlay.removeClass(w+"pause").addClass(w+"play").text(x.playText):y.pausePlay.removeClass(w+"play").addClass(w+"pause").text(x.pauseText);}},touch:function(){function A(e){l=n?s-e.touches[0].pageY:s-e.touches[0].pageX;c=n?Math.abs(l)<Math.abs(e.touches[0].pageX-r):Math.abs(l)<Math.abs(e.touches[0].pageY-r);if(!c||500<Number(new Date)-i){e.preventDefault(),!d&&y.transitions&&(x.animationLoop||(l/=0===y.currentSlide&&0>l||y.currentSlide===y.last&&0<l?Math.abs(l)/h+2:1),y.setProps(q+l,"setTouch"));}}function m(){if(y.animatingTo===y.currentSlide&&!c&&null!==l){var f=j?-l:l,e=0<f?y.getTarget("next"):y.getTarget("prev");y.canAdvance(e)&&(550>Number(new Date)-i&&50<Math.abs(f)||Math.abs(f)>h/2)?y.flexAnimate(e,x.pauseOnAction):y.flexAnimate(y.currentSlide,x.pauseOnAction,!0);}t.removeEventListener("touchmove",A,!1);t.removeEventListener("touchend",m,!1);q=l=r=s=null;}var s,r,q,h,l,i,c=!1;t.addEventListener("touchstart",function(e){y.animating?e.preventDefault():1===e.touches.length&&(y.pause(),h=n?y.h:y.w,i=Number(new Date),q=u&&j&&y.animatingTo===y.last?0:u&&j?y.limit-(y.itemW+x.itemMargin)*y.move*y.animatingTo:u&&y.currentSlide===y.last?y.limit:u?(y.itemW+x.itemMargin)*y.move*y.currentSlide:j?(y.last-y.currentSlide+y.cloneOffset)*h:(y.currentSlide+y.cloneOffset)*h,s=n?e.touches[0].pageY:e.touches[0].pageX,r=n?e.touches[0].pageX:e.touches[0].pageY,t.addEventListener("touchmove",A,!1),t.addEventListener("touchend",m,!1));},!1);},resize:function(){!y.animating&&y.is(":visible")&&(u||y.doMath(),d?v.smoothHeight():u?(y.slides.width(y.computedW),y.update(y.pagingCount),y.setProps()):n?(y.viewport.height(y.h),y.setProps(y.h,"setTotal")):(x.smoothHeight&&v.smoothHeight(),y.newSlides.width(y.computedW),y.setProps(y.computedW,"setTotal")));},smoothHeight:function(e){if(!n||d){var f=d?y:y.viewport;e?f.animate({height:y.slides.eq(y.animatingTo).height()},e):f.height(y.slides.eq(y.animatingTo).height());}},sync:function(c){var f=a(x.sync).data("flexslider"),h=y.animatingTo;switch(c){case"animate":f.flexAnimate(h,x.pauseOnAction,!1,!0);break;case"play":!f.playing&&!f.asNav&&f.play();break;case"pause":f.pause();}}};y.flexAnimate=function(c,h,m,f,e){g&&1===y.pagingCount&&(y.direction=y.currentItem<c?"next":"prev");if(!y.animating&&(y.canAdvance(c,e)||m)&&y.is(":visible")){if(g&&f){if(m=a(x.asNavFor).data("flexslider"),y.atEnd=0===c||c===y.count-1,m.flexAnimate(c,!0,!1,!0,e),y.direction=y.currentItem<c?"next":"prev",m.direction=y.direction,Math.ceil((c+1)/y.visible)-1!==y.currentSlide&&0!==c){y.currentItem=c,y.slides.removeClass(w+"active-slide").eq(c).addClass(w+"active-slide"),c=Math.floor(c/y.visible);}else{return y.currentItem=c,y.slides.removeClass(w+"active-slide").eq(c).addClass(w+"active-slide"),!1;}}y.animating=!0;y.animatingTo=c;x.before(y);h&&y.pause();y.syncExists&&!e&&v.sync("animate");x.controlNav&&v.controlNav.active();u||y.slides.removeClass(w+"active-slide").eq(c).addClass(w+"active-slide");y.atEnd=0===c||c===y.last;x.directionNav&&v.directionNav.update();c===y.last&&(x.end(y),x.animationLoop||y.pause());if(d){y.slides.eq(y.currentSlide).fadeOut(x.animationSpeed,x.easing),y.slides.eq(c).fadeIn(x.animationSpeed,x.easing,y.wrapup);}else{var l=n?y.slides.filter(":first").height():y.computedW;u?(c=x.itemWidth>y.w?2*x.itemMargin:x.itemMargin,c=(y.itemW+c)*y.move*y.animatingTo,c=c>y.limit&&1!==y.visible?y.limit:c):c=0===y.currentSlide&&c===y.count-1&&x.animationLoop&&"next"!==y.direction?j?(y.count+y.cloneOffset)*l:0:y.currentSlide===y.last&&0===c&&x.animationLoop&&"prev"!==y.direction?j?0:(y.count+1)*l:j?(y.count-1-c+y.cloneOffset)*l:(c+y.cloneOffset)*l;y.setProps(c,"",x.animationSpeed);if(y.transitions){if(!x.animationLoop||!y.atEnd){y.animating=!1,y.currentSlide=y.animatingTo;}y.container.unbind("webkitTransitionEnd transitionend");y.container.bind("webkitTransitionEnd transitionend",function(){y.wrapup(l);});}else{y.container.animate(y.args,x.animationSpeed,x.easing,function(){y.wrapup(l);});}}x.smoothHeight&&v.smoothHeight(x.animationSpeed);}};y.wrapup=function(c){!d&&!u&&(0===y.currentSlide&&y.animatingTo===y.last&&x.animationLoop?y.setProps(c,"jumpEnd"):y.currentSlide===y.last&&(0===y.animatingTo&&x.animationLoop)&&y.setProps(c,"jumpStart"));y.animating=!1;y.currentSlide=y.animatingTo;x.after(y);};y.animateSlides=function(){y.animating||y.flexAnimate(y.getTarget("next"));};y.pause=function(){clearInterval(y.animatedSlides);y.playing=!1;x.pausePlay&&v.pausePlay.update("play");y.syncExists&&v.sync("pause");};y.play=function(){y.animatedSlides=setInterval(y.animateSlides,x.slideshowSpeed);y.playing=!0;x.pausePlay&&v.pausePlay.update("pause");y.syncExists&&v.sync("play");};y.canAdvance=function(c,e){var f=g?y.pagingCount-1:y.last;return e?!0:g&&y.currentItem===y.count-1&&0===c&&"prev"===y.direction?!0:g&&0===y.currentItem&&c===y.pagingCount-1&&"next"!==y.direction?!1:c===y.currentSlide&&!g?!1:x.animationLoop?!0:y.atEnd&&0===y.currentSlide&&c===f&&"next"!==y.direction?!1:y.atEnd&&y.currentSlide===f&&0===c&&"next"===y.direction?!1:!0;};y.getTarget=function(c){y.direction=c;return"next"===c?y.currentSlide===y.last?0:y.currentSlide+1:0===y.currentSlide?y.last:y.currentSlide-1;};y.setProps=function(c,h,l){var k,i=c?c:(y.itemW+x.itemMargin)*y.move*y.animatingTo;k=-1*function(){if(u){return"setTouch"===h?c:j&&y.animatingTo===y.last?0:j?y.limit-(y.itemW+x.itemMargin)*y.move*y.animatingTo:y.animatingTo===y.last?y.limit:i;}switch(h){case"setTotal":return j?(y.count-1-y.currentSlide+y.cloneOffset)*c:(y.currentSlide+y.cloneOffset)*c;case"setTouch":return c;case"jumpEnd":return j?c:y.count*c;case"jumpStart":return j?y.count*c:c;default:return c;}}()+"px";y.transitions&&(k=n?"translate3d(0,"+k+",0)":"translate3d("+k+",0,0)",l=void 0!==l?l/1000+"s":"0s",y.container.css("-"+y.pfx+"-transition-duration",l));y.args[y.prop]=k;(y.transitions||void 0===l)&&y.container.css(y.args);};y.setup=function(c){if(d){y.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===c&&y.slides.eq(y.currentSlide).fadeIn(x.animationSpeed,x.easing),x.smoothHeight&&v.smoothHeight();}else{var e,f;"init"===c&&(y.viewport=a('<div class="'+w+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(y).append(y.container),y.cloneCount=0,y.cloneOffset=0,j&&(f=a.makeArray(y.slides).reverse(),y.slides=a(f),y.container.empty().append(y.slides)));x.animationLoop&&!u&&(y.cloneCount=2,y.cloneOffset=1,"init"!==c&&y.container.find(".clone").remove(),y.container.append(y.slides.first().clone().addClass("clone")).prepend(y.slides.last().clone().addClass("clone")));y.newSlides=a(x.selector,y);e=j?y.count-1-y.currentSlide+y.cloneOffset:y.currentSlide+y.cloneOffset;n&&!u?(y.container.height(200*(y.count+y.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){y.newSlides.css({display:"block"});y.doMath();y.viewport.height(y.h);y.setProps(e*y.h,"init");},"init"===c?100:0)):(y.container.width(200*(y.count+y.cloneCount)+"%"),y.setProps(e*y.computedW,"init"),setTimeout(function(){y.doMath();y.newSlides.css({width:y.computedW,"float":"left",display:"block"});x.smoothHeight&&v.smoothHeight();},"init"===c?100:0));}u||y.slides.removeClass(w+"active-slide").eq(y.currentSlide).addClass(w+"active-slide");};y.doMath=function(){var c=y.slides.first(),k=x.itemMargin,i=x.minItems,h=x.maxItems;y.w=y.width();y.h=c.height();y.boxPadding=c.outerWidth()-c.width();u?(y.itemT=x.itemWidth+k,y.minW=i?i*y.itemT:y.w,y.maxW=h?h*y.itemT:y.w,y.itemW=y.minW>y.w?(y.w-k*i)/i:y.maxW<y.w?(y.w-k*h)/h:x.itemWidth>y.w?y.w:x.itemWidth,y.visible=Math.floor(y.w/(y.itemW+k)),y.move=0<x.move&&x.move<y.visible?x.move:y.visible,y.pagingCount=Math.ceil((y.count-y.visible)/y.move+1),y.last=y.pagingCount-1,y.limit=1===y.pagingCount?0:x.itemWidth>y.w?(y.itemW+2*k)*y.count-y.w-k:(y.itemW+k)*y.count-y.w-k):(y.itemW=y.w,y.pagingCount=y.count,y.last=y.count-1);y.computedW=y.itemW-y.boxPadding;};y.update=function(c,e){y.doMath();u||(c<y.currentSlide?y.currentSlide+=1:c<=y.currentSlide&&0!==c&&(y.currentSlide-=1),y.animatingTo=y.currentSlide);if(x.controlNav&&!y.manualControls){if("add"===e&&!u||y.pagingCount>y.controlNav.length){v.controlNav.update("add");}else{if("remove"===e&&!u||y.pagingCount<y.controlNav.length){u&&y.currentSlide>y.last&&(y.currentSlide-=1,y.animatingTo-=1),v.controlNav.update("remove",y.last);}}}x.directionNav&&v.directionNav.update();};y.addSlide=function(c,i){var h=a(c);y.count+=1;y.last=y.count-1;n&&j?void 0!==i?y.slides.eq(y.count-i).after(h):y.container.prepend(h):void 0!==i?y.slides.eq(i).before(h):y.container.append(h);y.update(i,"add");y.slides=a(x.selector+":not(.clone)",y);y.setup();x.added(y);};y.removeSlide=function(c){var f=isNaN(c)?y.slides.index(a(c)):c;y.count-=1;y.last=y.count-1;isNaN(c)?a(c,y.slides).remove():n&&j?y.slides.eq(y.last).remove():y.slides.eq(c).remove();y.doMath();y.update(f,"remove");y.slides=a(x.selector+":not(.clone)",y);y.setup();x.removed(y);};v.init();};a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7000,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};a.fn.flexslider=function(c){void 0===c&&(c={});if("object"===typeof c){return this.each(function(){var d=a(this),e=d.find(c.selector?c.selector:".slides > li");1===e.length?(e.fadeIn(400),c.start&&c.start(d)):void 0===d.data("flexslider")&&new a.flexslider(this,c);});}var b=a(this).data("flexslider");switch(c){case"play":b.play();break;case"pause":b.pause();break;case"next":b.flexAnimate(b.getTarget("next"),!0);break;case"prev":case"previous":b.flexAnimate(b.getTarget("prev"),!0);break;default:"number"===typeof c&&b.flexAnimate(c,!0);}};})(jQuery);