/*
	Copyright (c) 2004-2010, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


window[(typeof (djConfig)!="undefined"&&djConfig.scopeMap&&djConfig.scopeMap[0][1])||"dojo"]._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit._base.popup"],["require","dijit._base.focus"],["require","dijit._base.place"],["require","dijit._base.window"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit._base.popup"]){_4._hasResource["dijit._base.popup"]=true;_4.provide("dijit._base.popup");_4.require("dijit._base.focus");_4.require("dijit._base.place");_4.require("dijit._base.window");_5.popup={_stack:[],_beginZIndex:1000,_idGen:1,moveOffScreen:function(_7){var _8=_7.declaredClass?_7._popupWrapper:(_4.hasClass(_7.parentNode,"dijitPopup")&&_7.parentNode),_9=_7.domNode||_7;if(_8){_4.style(_8,{visibility:"hidden",top:"-9999px"});}else{_8=_4.create("div",{"class":"dijitPopup",style:{visibility:"hidden",top:"-9999px"},role:"presentation"},_4.body());_8.appendChild(_9);var s=_9.style;s.display="";s.visibility="";s.position="";s.top="0px";if(_7.declaredClass){_7._popupWrapper=_8;_4.connect(_7,"destroy",function(){_4.destroy(_8);delete _7._popupWrapper;});}}},getTopPopup:function(){var _a=this._stack;for(var pi=_a.length-1;pi>0&&_a[pi].parent===_a[pi-1].widget;pi--){}return _a[pi];},open:function(_b){var _c=this._stack,_d=_b.popup,_e=_b.orient||((_b.parent?_b.parent.isLeftToRight():_4._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_f=_b.around,id=(_b.around&&_b.around.id)?(_b.around.id+"_dropdown"):("popup_"+this._idGen++);if(!_d._popupWrapper){this.moveOffScreen(_d);}var _10=_d._popupWrapper;_4.attr(_10,{id:id,style:{zIndex:this._beginZIndex+_c.length},"class":"dijitPopup "+(_d.baseClass||_d["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:_b.parent?_b.parent.id:""});if(_4.isIE||_4.isMoz){if(!_d.bgIframe){_d.bgIframe=new _5.BackgroundIframe(_10);}}var _11=_f?_5.placeOnScreenAroundElement(_10,_f,_e,_d.orient?_4.hitch(_d,"orient"):null):_5.placeOnScreen(_10,_b,_e=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],_b.padding);_10.style.visibility="visible";_d.domNode.style.visibility="visible";var _12=[];_12.push(_4.connect(_10,"onkeypress",this,function(evt){if(evt.charOrCode==_4.keys.ESCAPE&&_b.onCancel){_4.stopEvent(evt);_b.onCancel();}else{if(evt.charOrCode===_4.keys.TAB){_4.stopEvent(evt);var _13=this.getTopPopup();if(_13&&_13.onCancel){_13.onCancel();}}}}));if(_d.onCancel){_12.push(_4.connect(_d,"onCancel",_b.onCancel));}_12.push(_4.connect(_d,_d.onExecute?"onExecute":"onChange",this,function(){var _14=this.getTopPopup();if(_14&&_14.onExecute){_14.onExecute();}}));_c.push({widget:_d,parent:_b.parent,onExecute:_b.onExecute,onCancel:_b.onCancel,onClose:_b.onClose,handlers:_12});if(_d.onOpen){_d.onOpen(_11);}return _11;},close:function(_15){var _16=this._stack;while(_4.some(_16,function(_17){return _17.widget==_15;})){var top=_16.pop(),_18=top.widget,_19=top.onClose;if(_18.onClose){_18.onClose();}_4.forEach(top.handlers,_4.disconnect);if(_18&&_18.domNode){this.moveOffScreen(_18);}if(_19){_19();}}}};_5._frames=new function(){var _1a=[];this.pop=function(){var _1b;if(_1a.length){_1b=_1a.pop();_1b.style.display="";}else{if(_4.isIE<9){var _1c=_4.config["dojoBlankHtmlUrl"]||(_4.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var _1d="<iframe src='"+_1c+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_1b=_4.doc.createElement(_1d);}else{_1b=_4.create("iframe");_1b.src="javascript:\"\"";_1b.className="dijitBackgroundIframe";_4.style(_1b,"opacity",0.1);}_1b.tabIndex=-1;_5.setWaiRole(_1b,"presentation");}return _1b;};this.push=function(_1e){_1e.style.display="none";_1a.push(_1e);};}();_5.BackgroundIframe=function(_1f){if(!_1f.id){throw new Error("no id");}if(_4.isIE||_4.isMoz){var _20=_5._frames.pop();_1f.appendChild(_20);if(_4.isIE<7){this.resize(_1f);this._conn=_4.connect(_1f,"onresize",this,function(){this.resize(_1f);});}else{_4.style(_20,{width:"100%",height:"100%"});}this.iframe=_20;}};_4.extend(_5.BackgroundIframe,{resize:function(_21){if(this.iframe&&_4.isIE<7){_4.style(this.iframe,{width:_21.offsetWidth+"px",height:_21.offsetHeight+"px"});}},destroy:function(){if(this._conn){_4.disconnect(this._conn);this._conn=null;}if(this.iframe){_5._frames.push(this.iframe);delete this.iframe;}}});}}};});